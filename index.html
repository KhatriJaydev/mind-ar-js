<html>

<head>
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0" />
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-aframe.prod.js"></script>

  <script>
    const showInfo = () => {
      const webButton = document.querySelector("#web-icon");
      const emailButton = document.querySelector("#email-icon");
      const phoneButton = document.querySelector("#phone-icon");
      const textTitle = document.querySelector("#text-title");
      const webLink = document.querySelector("#web-link");
      const emailAddress = document.querySelector("#email-address");
      const phNumber = document.querySelector("#ph-number");

      setTimeout(() => {
        textTitle.setAttribute("visible", true);
      }, 300);

      setTimeout(() => {
        webButton.setAttribute("visible", true);
        webLink.setAttribute("visible", true);
      }, 600);

      setTimeout(() => {
        emailButton.setAttribute("visible", true);
        emailAddress.setAttribute("visible", true);
      }, 900);

      setTimeout(() => {
        phoneButton.setAttribute("visible", true);
        phNumber.setAttribute("visible", true);
      }, 1200);
    }

    AFRAME.registerComponent('mytarget', {
      init: function () {
        this.el.addEventListener('targetFound', event => {
          setTimeout(() => {
            showInfo();
          }, 300);
        });
      }
    });
  </script>
</head>

<body>
  <a-scene mindar-image="imageTargetSrc: ./assets/dk/dk.mind; uiLoading:no; uiScanning:no" color-space=" sRGB"
    renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false">
    <a-assets>
      <img id="user-icon-img" src="./assets/icon/img_avatar.png" />
      <img id="web-icon-img" src="./assets/icon/yellow-website.png" />
      <img id="email-icon-img" src="./assets/icon/email-yellow.png" />
      <img id="phone-icon-img" src="./assets/icon/phone-call.png" />
      <img id="dk-image" src="./assets/dk/D-front-1.png">
    </a-assets>

    
    <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
    
    <a-entity mytarget mindar-image-target="targetIndex: 0">
      <a-plane
      scale="1.1 1.9 1"
      material="src: #dk-image; transparent: true; opacity: 1;"
      position="0.01 -0.01 -0.1"
      ></a-plane>
      <a-plane position="1 1 0" color="transparent" opacity="0">
        <a-entity position="0 0 0" rotation="0 0 0">
          <a-circle radius="0.25" material="shader: flat; src: #user-icon-img"></a-circle>
        </a-entity>
        <a-text id="text-title" visible="false" position="-0.5 -0.5 0" value="Dhruv Khatri" color="white" scale="0 0 0"
          animation="property: scale; to: 0.8 0.8 0.8; dur: 1000; easing: easeInOutQuad; loop: 3; dir: alternate"></a-text>
        <a-entity>
          <a-image visible="false" id="web-icon" src="#web-icon-img" alpha-test="0.5" position="-0.5 -0.8 0"
            height="0.1" width="0.1"
            animation="property: scale; to: 1.9 1.9 1.9; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"></a-image>

          <a-text visible="false" id="web-link" position="-0.3 -0.8 0" value="www.example.com" color="white"
            scale="0.4 0.4 0.4"></a-text>

          <a-image visible="false" id="email-icon" alpha-test="0.5" position="-0.5 -1.05 0" src="#email-icon-img"
            height="0.1" width="0.1" rotation="0 0 0"
            animation="property: scale; to: 1.9 1.9 1.9; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"></a-image>

          <a-text visible="false" position="-0.3 -1.05 0" id="email-address" value="example1@gmail.com" color="white"
            scale="0.4 0.4 0.4"></a-text>

          <a-image visible="false" id="phone-icon" alpha-test="0.5" position="-0.5 -1.3 0" src="#phone-icon-img"
            height="0.1" width="0.1" rotation="0 0 0"
            animation="property: scale; to: 1.9 1.9 1.9; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"></a-image>

          <a-text visible="false" position="-0.3 -1.3 0" id="ph-number" value="+1 888-321-123" color="white"
            scale="0.4 0.4 0.4"></a-text>
        </a-entity>


      </a-plane>
    </a-entity>
  </a-scene>
</body>

</html>